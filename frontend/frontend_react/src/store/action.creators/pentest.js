import {
    FETCH_PENTEST_SUCCESS,
    FETCH_PENTEST_FAILURE,
    FETCH_PENTEST_REQUEST
} from './../const';
import instance from "../api";

export const fetchPentestRequest = () => ({
    type: FETCH_PENTEST_REQUEST,
});

export const fetchPentestSuccess = (osint) => ({

    type: FETCH_PENTEST_SUCCESS,
    payload: osint,
});

export const fetchPentestFailure = (error) => ({
    type: FETCH_PENTEST_FAILURE,
    payload: error,
});

export const fetchPentest = () => async (dispatch) => {
    dispatch(fetchPentestRequest());

    try {
        const response = await instance.get(`/api/pentesting/pentesting/`);
        // const data = await response.json();
        // console.log(data)

        dispatch(fetchPentestSuccess(response.data.results));
        debugger
    } catch (error) {
        dispatch(fetchPentestFailure(error));
    }
};